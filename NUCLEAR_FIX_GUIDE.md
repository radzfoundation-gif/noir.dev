["Supabase Dashboard](https://app.supabase.com)\n2. Pilih project `noir-ai`\n3. Klik **\"SQL Editor\"** di sidebar kiri\n4. Klik **\"New Query\"**\n5. Copy SQL script dari file `nuclear_fix_policies.sql`\n6. Paste ke SQL Editor\n7. Click **\"Run\"** atau tekan `Ctrl + Enter`\n8. \u2705 Selesai!\n\n### **Step 2: Refresh & Test**\n\n1. **Refresh browser** - `Ctrl + Shift + R` (hard refresh)\n2. **Re-login** ke aplikasi\n3. Test semua features:\n   - \u2705 Load teams\n   - \u2705 Create team\n   - \u2705 View team members\n   - \u2705 Save project\n\n---\n\n## \ud83d\udccb What Gets Dropped & Recreated\n\n### **Dropped (All Existing Policies):**\n\n**Teams:**\n- Team members can view team\n- Users can create teams\n- Only owner can update team\n- Only owner can delete team\n- Users can view teams\n- Users can update teams\n- Users can delete teams\n\n**Team Members:**\n- Team members can view other members\n- Users can add team members\n- Team owners can update members\n- Team owners can remove members\n- Users can update own team membership\n- Users can update team members\n- Users can remove team members\n- Users can delete team members\n- Team can view members\n- Team can add members\n- Team can update members\n- Team can remove members\n\n---\n\n### **Recreated (New Clean Policies):**\n\n**Teams:**\n- `teams_select_own_or_member` - View teams you own or belong to\n- `teams_insert_owner` - Create teams (owner only)\n- `teams_update_owner` - Update teams (owner only)\n- `teams_delete_owner` - Delete teams (owner only)\n\n**Team Members:**\n- `team_members_select_own_or_member` - View members of teams you own or belong to\n- `team_members_insert_owner_or_self` - Add members (team owner or self)\n- `team_members_update_owner_or_self` - Update members (team owner or self)\n- `team_members_delete_owner_or_self` - Remove members (team owner or self)\n\n---\n\n## \ud83d\udd0d Why This Works\n\n### **Problem:**\n```sql\n-- \u274c Conflicting policy names\nCREATE POLICY \"Users can update team members\" ...\nCREATE POLICY \"Users can update team members\" ...  -- Duplicate!\n```\n\n### **Solution:**\n```sql\n-- \u2705 Unique policy names\nDROP POLICY IF EXISTS \"Users can update team members\" ON team_members;\nCREATE POLICY \"team_members_update_owner_or_self", "Unique!\n```\n\n---\n\n## \u2705 Benefits of This Fix\n\n| Benefit | Description |\n|---------|-------------|\n| \ud83e\uddf9 Clean Slate | Removes all conflicting policies |\n| \ud83d\ude80 No Conflicts | Unique policy names |\n| \u26a1 Optimized | Better performance with LIMIT 1 |\n| \ud83d\udd12 Secure | Proper RLS in place |\n| \ud83d\udee1\ufe0f Safe | Won't cause issues on re-run |\n\n---\n\n## \ud83c\udfaf New Policy Naming Convention\n\n### **Pattern:**\n`{table}_{action}_{conditions}`\n\n### **Examples:**\n- `teams_select_own_or_member` - Teams \u2192 Select \u2192 Owner or Member\n- `team_members_insert_owner_or_self` - Team Members \u2192 Insert \u2192 Owner or Self\n- `teams_delete_owner` - Teams \u2192 Delete \u2192 Owner Only\n\n### **Why This Pattern:**\n- \u2705 Clear and descriptive\n- \u2705 Easy to understand\n- \u2705 No naming conflicts\n- \u2705 Consistent across all tables\n\n---\n\n## \ud83d\udd2c Verification After Running Fix\n\n### **Check Policies Exist:**\n```sql\n-- Check teams policies\nSELECT * FROM pg_policies\nWHERE tablename = 'teams'\nORDER BY policyname;\n\n-- Check team_members policies\nSELECT * FROM pg_policies\nWHERE tablename = 'team_members'\nORDER BY policyname;\n```\n\n### **Expected Result:**\n```\nteams:\n  - teams_select_own_or_member\n  - teams_insert_owner\n  - teams_update_owner\n  - teams_delete_owner\n\nteam_members:\n  - team_members_select_own_or_member\n  - team_members_insert_owner_or_self\n  - team_members_update_owner_or_self\n  - team_members_delete_owner_or_self\n```\n\n---\n\n## \ud83e\uddea Test Scenarios\n\n### **Test 1: Load Teams**\n```sql\n-- Should work without infinite recursion\nSELECT * FROM teams ORDER BY created_at DESC LIMIT 10;\n```\n\n### **Test 2: Load Team Members**\n```sql\n-- Should work without self-referencing\nSELECT * FROM team_members WHERE user_id = auth.uid() LIMIT 10;\n```\n\n### **Test 3: Create Team**\n```sql\n-- Should work as owner\nINSERT INTO teams (name, slug, owner_id)\nVALUES ('Test Team', 'test-team', auth.uid());\n```\n\n---\n\n## \ud83d\udea8 Safety Considerations\n\n### **Is This Safe?**\n\n\u2705 **YES**, karena:\n\n1. **Uses DROP IF EXISTS** - Tidak akan error jika policy tidak ada\n2. **Only affects RLS policies** - Tidak menghapus data\n3. **Recreates with same logic** - Security maintained\n4. **Can be re-run safely** - No side effects\n\n### **What Gets Preserved:**\n\n- \u2705 **All data** - Teams, team members, projects tetap ada\n- \u2705 **All tables** - Struktur database tidak berubah\n- \u2705 **All indexes** - Performance tetap terjaga\n- \u2705 **All triggers** - Auto-update masih bekerja\n\n---\n\n## \ud83d\udcca Comparison: Before vs After\n\n| Aspect | Before Fix | After Nuclear Fix |\n|--------|------------|-------------------|\n| Policy Names | Conflicting | Unique & Consistent |\n| Performance | Slow (infinite) | Fast (optimized) |\n| Application | \ud83d\udca5 Crashes | \u2705 Works |\n| RLS Security | \u274c Broken | \u2705 Working |\n| Maintenance | \ud83d\udd34 Difficult | \ud83d\udfe2 Easy |\n\n---\n\n## \ud83c\udf89 Expected Results\n\n### **After Running Fix:**\n\n| Feature | Status |\n|---------|--------|\n| Load Teams | \u2705 Working |\n| Create Team | \u2705 Working |\n| View Team Members | \u2705 Working |\n| Add Team Member | \u2705 Working |\n| Save Project | \u2705 Working |\n| Share Project | \u2705 Working |\n| All Features | \u2705 Working |\n\n---\n\n## \ud83d\udd04 If You Need to Undo\n\nJika terjadi masalah setelah running fix:\n\n```sql\n-- Temporary disable RLS for testing\nALTER TABLE teams DISABLE ROW LEVEL SECURITY;\nALTER TABLE team_members DISABLE ROW LEVEL SECURITY;\n\n-- Test application\n\n-- Re-enable when ready\nALTER TABLE teams ENABLE ROW LEVEL SECURITY;\nALTER TABLE team_members ENABLE ROW LEVEL SECURITY;\n```\n\n\u26a0\ufe0f **WARNING:** Hanya gunakan untuk testing! Re-enable immediately setelah selesai!\n\n---\n\n## \ud83d\udcdd Summary\n\n### **Problem:**\n- \u274c Policy name conflicts\n- \u274c Infinite recursion\n- \u274c Multiple duplicate policies\n- \u274c Application crashes\n\n### **Solution:**\n- \u2705 Nuclear fix: Drop all policies\n- \u2705 Recreate with unique names\n- \u2705 Optimized logic with LIMIT 1\n- \u2705 Clean slate, fresh start\n\n### **Result:**\n- \u2705 No more conflicts\n- \u2705 No more recursion\n- \u2705 All features working\n- \u2705 Stable application\n\n---\n\n## \ud83c\udd98 Still Having Issues?\n\n### **Debug Steps:**\n\n1. **Check Policy Existence:**\n   ```sql\n   SELECT * FROM pg_policies\n   WHERE tablename IN ('teams', 'team_members');\n   ```\n\n2. **Check RLS Status:**\n   ```sql\n   SELECT tablename, rowsecurity \n   FROM pg_tables \n   WHERE tablename IN ('teams', 'team_members');\n   ```\n\n3. **Test Simple Query:**\n   ```sql\n   SELECT COUNT(*) FROM teams;\n   SELECT COUNT(*) FROM team_members;\n   ```\n\n4. **Check User Authentication:**\n   ```sql\n   SELECT auth.uid();\n   ```\n\n---\n\n## \ud83d\udcc1 File Reference\n\n| File | Purpose |\n|------|---------|\n| `nuclear_fix_policies.sql` | Nuclear fix for policy conflicts |\n| `fix_teams_recursion.sql` | Fix infinite recursion in teams |\n| `fix_infinite_recursion.sql` | Fix general recursion issues |\n| `fix_column_reference.sql` | Fix column reference errors |\n\n---\n\n## \ud83c\udfaf When to Use Which Fix\n\n| Situation | Use This File |\n|-----------|----------------|\n| `policy already exists` | `nuclear_fix_policies.sql` |\n| `infinite recursion` | `fix_teams_recursion.sql` |\n| `column does not exist` | `fix_column_reference.sql` |\n| All issues together | `nuclear_fix_policies.sql` |\n\n---\n\n**Priority:** \u2622\ufe0f CRITICAL - Use if other fixes fail\n**Status:** \u2705 Ready to Run\n**Safety:** \u2705 Safe for Production\n**Date:** 2025-02-05"]